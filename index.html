<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>MAHARAJA STORE</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
<!-- Navbar -->
<nav class="navbar">
  <div class="navbar-logo">
    <img src="image/logo.png" alt="Logo Toko">
    <span>MAHARAJA STORE</span>
  </div>
  <ul class="navbar-menu">
    <li><a href="#home">Home</a></li>
    <li><a href="#produk">Produk</a></li>
    <li><a href="#kontak">Kontak</a></li>
  </ul>
</nav>


  <h1>Produk Mobile Legends</h1>

  <div class="container">

    <!-- Produk -->
    <div class="product">
      <img src="image/epic.jpeg" alt="Skin Epic Shop">
      <h3>Skin Epic Shop</h3>
      <p>Rp <span class="price">110000</span></p>
      Jumlah: <input type="number" class="qty" min="0" value="0">
    </div>

    <div class="product">
      <img src="image/spesial.jpeg" alt="Skin Special Shop">
      <h3>Skin Special Shop</h3>
      <p>Rp <span class="price">81000</span></p>
      Jumlah: <input type="number" class="qty" min="0" value="0">
    </div>

    <div class="product">
      <img src="image/elite.jpeg" alt="Skin Elite Shop">
      <h3>Skin Elite Shop</h3>
      <p>Rp <span class="price">65000</span></p>
      Jumlah: <input type="number" class="qty" min="0" value="0">
    </div>

    <div class="product">
      <img src="image/Name-Change-Card.jpeg" alt="Change Name Card">
      <h3>Change Name Card</h3>
      <p>Rp <span class="price">30000</span></p>
      Jumlah: <input type="number" class="qty" min="0" value="0">
    </div>

    <div class="product">
      <img src="image/flag.jpeg" alt="Flag Change Card">
      <h3>Flag Change Card</h3>
      <p>Rp <span class="price">35000</span></p>
      Jumlah: <input type="number" class="qty" min="0" value="0">
    </div>

    <div class="product">
      <img src="image/SL card.jpeg" alt="Starlight Card">
      <h3>Starlight Card</h3>
      <p>Rp <span class="price">40000</span></p>
      Jumlah: <input type="number" class="qty" min="0" value="0">
    </div>

    <div class="product">
      <img src="image/SL prem.jpeg" alt="Premium Starlight Card">
      <h3>Premium Starlight Card</h3>
      <p>Rp <span class="price">90000</span></p>
      Jumlah: <input type="number" class="qty" min="0" value="0">
    </div>

  </div>

  <!-- Checkout Section -->
  <!-- Tombol utama -->
<div class="buy-wrapper">
  <a id="open-checkout" class="buy-button" href="#">Beli via WhatsApp</a>
</div>

<!-- Modal checkout -->
<div id="checkout-modal" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h2>Checkout</h2>
    <label>Nickname:
      <input type="text" id="nickname" placeholder="Contoh: MaharaJawa">
    </label>
    <label>ID:
      <input type="text" id="id" placeholder="Contoh: 123456789">
    </label>
    <label>Server:
      <input type="text" id="server" placeholder="Contoh: 1234">
    </label>

    <p><strong>Total Belanja:</strong> Rp <span id="grand-total">0</span></p>
    <a id="whatsapp-link" class="buy-button" href="#" target="_blank">Kirim ke WhatsApp</a>
  </div>
</div>

  <script>
    const nomorAdmin = "6285157690339";

    const qtyInputs = document.querySelectorAll('.qty');
    const prices = document.querySelectorAll('.price');
    const productNames = document.querySelectorAll('.product h3');
    const totalDisplay = document.getElementById('grand-total');
    const waLink = document.getElementById('whatsapp-link');

    const nickname = document.getElementById('nickname');
    const id = document.getElementById('id');
    const server = document.getElementById('server');

    const openBtn = document.getElementById("open-checkout");
    const modal = document.getElementById("checkout-modal");
    const closeBtn = document.querySelector(".modal .close");


    function updateTotal() {
      let total = 0;
      let pesan = "Halo admin, saya ingin membeli:\n";
      qtyInputs.forEach((input, index) => {
        const qty = parseInt(input.value);
        const price = parseInt(prices[index].textContent);
        const name = productNames[index].textContent;

        if (qty > 0) {
          const subtotal = qty * price;
          total += subtotal;
          pesan += `- ${name} x${qty} = Rp${subtotal}\n`;
        }
      });

      totalDisplay.textContent = total;

      if (total > 0) {
        pesan += `\nTotal: Rp${total}`;
        pesan += `\n\nðŸ“Œ Data Akun ML:\n- Nickname: ${nickname.value}\n- ID: ${id.value}\n- Server: ${server.value}`;

        const url = `https://wa.me/${nomorAdmin}?text=${encodeURIComponent(pesan)}`;
        waLink.href = url;
      } else {
        waLink.href = "#";
      }
    }

  openBtn.addEventListener("click", (e) => {
    e.preventDefault();
    modal.style.display = "block";
  });

  closeBtn.addEventListener("click", () => {
    modal.style.display = "none";
  });

  window.addEventListener("click", (e) => {
    if (e.target == modal) {
      modal.style.display = "none";
    }
  });

  // Tetap jalanin perhitungan total seperti sebelumnya
  qtyInputs.forEach(input => input.addEventListener('input', updateTotal));
  nickname.addEventListener('input', updateTotal);
  id.addEventListener('input', updateTotal);
  server.addEventListener('input', updateTotal);
</script>
 

</body>
</html>
